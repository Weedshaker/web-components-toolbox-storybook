"use strict";(self.webpackChunkweb_components_toolbox_storybook=self.webpackChunkweb_components_toolbox_storybook||[]).push([[7370],{"./src/web-components-toolbox/src/es/components/atoms/sliderButton/SliderButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>SliderButton});var _prototypes_Shadow_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/web-components-toolbox/src/es/components/prototypes/Shadow.js");class SliderButton extends((0,_prototypes_Shadow_js__WEBPACK_IMPORTED_MODULE_0__.j)()){constructor(){var _this;super(...arguments),_this=this,this.hasRendered=!1,this.carouselChanged=event=>{var _this$milestones$id,id=Number(event.detail.node.getAttribute("id").replace(/.*-(.*?)/,"$1")),value=100*(id+1)-50;this.milestoneMobile.innerHTML=null===(_this$milestones$id=this.milestones[id])||void 0===_this$milestones$id?void 0:_this$milestones$id.parentNode.getAttribute("data-slider-target"),this.changeCarousel(value,this.slider,!1)},this.sliderChange=e=>{Array.from(this.milestones).forEach((m=>{var index=Number(m.getAttribute("data-index"))+1,value=Number(e.target.value);value<=(index=100*index-50)+50&&value>=index-50&&Array.from(this.parentNode.host.nav.children)[m.getAttribute("data-index")].click()}))},this.buttonClickListener=e=>{for(var i=0;i<e.composedPath().length;i++){var index=e.composedPath()[i].getAttribute("data-index");if(null!=index){Array.from(this.parentNode.host.nav.children)[index].click();break}}};var requestAnimationFrameID=null;this.changeCarousel=function(targetValue,slider,steps){var duration=arguments.length>3&&void 0!==arguments[3]?arguments[3]:330,startTime=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Date.now(),currentValue=Number(slider.value);if(currentValue!==targetValue){if(!steps){self.cancelAnimationFrame(requestAnimationFrameID);var step=Math.abs(currentValue-targetValue)/duration,func=targetValue>currentValue?(curr,i)=>Math.ceil(currentValue+step*i):(curr,i)=>Math.floor(currentValue-step*i);steps=Array.from(Array(duration)).map(func)}slider.value=String(currentValue=steps[Date.now()-startTime]||targetValue),currentValue!==targetValue&&(requestAnimationFrameID=self.requestAnimationFrame((timeStamp=>_this.changeCarousel(targetValue,slider,steps,duration,startTime))))}}}connectedCallback(){this.shouldComponentRenderCSS()&&this.renderCSS(),this.shouldComponentRenderHTML()&&this.renderHTML(),document.body.addEventListener("carousel-two-seperate-nav-changed",this.carouselChanged),this.slider.addEventListener("mouseup",this.sliderChange),this.slider.addEventListener("touchend",this.sliderChange)}disconnectedCallback(){document.body.removeEventListener("carousel-two-seperate-nav-changed",this.carouselChanged),this.slider.removeEventListener("mouseup",this.sliderChange),this.slider.removeEventListener("touchend",this.sliderChange)}shouldComponentRenderCSS(){return!this.root.querySelector(":host > style[_css], ".concat(this.tagName," > style[_css]"))}shouldComponentRenderHTML(){return!this.hasRendered}renderCSS(){this.css="\n      :host {\n        position: relative;\n        display: flex;\n        justify-content: center;\n        height: calc(var(--nav-padding-bottom) - 0.75rem);\n        top: calc(var(--nav-height) + 0.75rem);\n      }\n\n      :host .tab-slider {\n        position: absolute;\n        flex-direction: column;\n        z-index: 2;\n        width: var(--slider-width);\n        max-width: var(--slider-max-width);\n      }\n\n      :host .progress-bar{\n        width: 100%;\n        height: 2.5rem;\n      }\n\n      :host .progress-slider{\n        width: 100%;\n        height: 6px;\n        background: #FFFFFF;\n        border-radius: 2px;\n        box-shadow: inset 0 1px 0 0 rgb(0 0 0 / 30%);\n        -webkit-appearance: none;  /* Override default CSS styles */\n        appearance: none;\n      }\n\n      :host .progress-slider::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 2.5rem;\n        height: 2.5rem;\n        background: #D1033B;\n        border-radius: 50%;\n        box-shadow: 0 2px 2px #b90234;\n        cursor: grab;\n        z-index: 4;\n      }\n      \n      :host .progress-slider::-moz-range-thumb {\n        width: 2.5rem;\n        height: 2.5rem;\n        background: #D1033B;\n        cursor: pointer;\n        border-radius: 50%;\n        box-shadow: 0 2px 2px #b90234;\n        cursor: grab;\n        z-index: 3;\n      }\n\n      :host .progress-bar:not(.is-dragging) .active-indicator {\n        transition: left .4s cubic-bezier(.93,0,.16,1.02);\n      }\n\n      :host .milestones{\n        display: flex;\n        justify-content: space-evenly;\n        width: 100%;\n      }\n      :host .milestone-wrapper{\n        position: relative;\n        z-index: 1;\n        width: 11.5625rem;\n        padding-top: 10px;\n        cursor: pointer;\n        text-align: center;\n      }\n\n      :host .milestone-progress-bar{\n        width: 216px;\n      }\n\n      :host .milestone{\n        position: absolute;\n        top: -1.5rem;\n        left: 50%;\n        display: -ms-flexbox;\n        display: flex;\n        width: 2.5rem;\n        height: 2.5rem;\n        -ms-flex-align: center;\n        align-items: center;\n        -ms-flex-pack: center;\n        justify-content: center;\n        margin-top: -1.25rem;\n        margin-left: -1.25rem;\n        cursor: pointer;\n      }\n\n      :host .milestone-mobile{\n        position: absolute;\n        left: auto;\n        right: auto;\n        top: 1.5rem;\n        display: none;\n      }\n\n\n      :host .milestone::before {\n        display: block;\n        width: 6px;\n        height: 1.25rem;\n        background: #D1033B;\n        border-radius: 2px;\n        content: '';\n        position: absolute;\n      }\n\n      @media screen and (max-width: _max-width_){\n        :host .milestone-mobile{\n          display: block;\n        }\n        :host .milestone-headline{\n          display: none;\n        }\n        :host .milestone-wrapper{\n          width: 100%;\n        }\n\n      }\n    "}renderHTML(){this.hasRendered=!0,this.sliderDiv.classList.add("progress-bar"),this.slider.type="range",this.slider.min="1",this.slider.max=(100*this.milestones.length).toString(),this.slider.classList.add("progress-slider"),this.sliderDiv.appendChild(this.slider),this.tabSlider.appendChild(this.sliderDiv),this.milestoneWrapper.classList.add("milestones"),Array.from(this.milestones).forEach((m=>{this.root.removeChild(m);var milestoneDiv=document.createElement("div");milestoneDiv.classList.add("milestone-wrapper"),milestoneDiv.addEventListener("click",this.buttonClickListener);var index=m.getAttribute("data-index"),data=m.innerHTML;milestoneDiv.setAttribute("data-slider-target",data),milestoneDiv.setAttribute("data-index",index),milestoneDiv.setAttribute("role","button");var milestone=document.createElement("p");milestone.classList.add("milestone"),milestone.setAttribute("data-index",index);var milestoneBar=document.createElement("span");milestoneBar.classList.add("milestone-progress-bar"),milestoneBar.setAttribute("data-index",index),milestone.appendChild(milestoneBar),milestoneDiv.appendChild(milestone);var milestoneHead=document.createElement("p");milestoneHead.classList.add("milestone-headline"),milestoneHead.setAttribute("data-index",index),milestoneHead.innerHTML=data,milestoneDiv.appendChild(milestoneHead),this.milestoneWrapper.appendChild(milestoneDiv)})),this.milestoneMobile.classList.add("milestone-mobile"),this.milestoneWrapper.appendChild(this.milestoneMobile),this.tabSlider.appendChild(this.milestoneWrapper),this.tabSlider.classList.add("tab-slider"),this.html=this.tabSlider}get milestones(){return this.root.querySelectorAll(".milestone")}get tabSlider(){return this._tabSlider||(this._tabSlider=document.createElement("div"))}get slider(){return this._slider||(this._slider=document.createElement("input"))}get sliderDiv(){return this._sliderDiv||(this._sliderDiv=document.createElement("div"))}get milestoneWrapper(){return this._milestoneWrapper||(this._milestoneWrapper=document.createElement("div"))}get milestoneMobile(){return this._milestoneMobile||(this._milestoneMobile=document.createElement("p"))}}}}]);