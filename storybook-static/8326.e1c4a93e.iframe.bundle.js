"use strict";(self.webpackChunkweb_components_toolbox_storybook=self.webpackChunkweb_components_toolbox_storybook||[]).push([[8326],{"./src/web-components-toolbox/src/es/components/molecules/flockler/Flockler.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Flockler});var _prototypes_Shadow_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/web-components-toolbox/src/es/components/prototypes/Shadow.js");class Flockler extends((0,_prototypes_Shadow_js__WEBPACK_IMPORTED_MODULE_0__.j)()){constructor(){var timeout;super(...arguments),this.messageListener=event=>{"https://plugins.flockler.com"===event.origin&&"FlockerIframeResizeEvent"===event.data.eventName&&(this.iframe.setAttribute("height",event.data.nativeHeight),this.iframe.contentWindow.postMessage({eventName:"FlockerIframeResizeReceivedEvent"},"*"))},this.messageListenerAppear=event=>{"https://plugins.flockler.com"===event.origin&&(clearTimeout(timeout),timeout=setTimeout((()=>{this.classList.add("loaded"),self.removeEventListener("message",this.messageListenerAppear)}),500))}}connectedCallback(){this.shouldComponentRenderCSS()&&this.renderCSS(),this.shouldComponentRenderHTML()&&this.renderHTML(),self.addEventListener("message",this.messageListener),self.addEventListener("message",this.messageListenerAppear)}disconnectedCallback(){self.removeEventListener("message",this.messageListener)}shouldComponentRenderCSS(){return!this.root.querySelector(":host > style[_css], ".concat(this.tagName," > style[_css]"))}shouldComponentRenderHTML(){return!this.iframe}renderCSS(){this.css="\n      :host > iframe {\n        display: block;\n        border: none;\n        width: 100%;\n        opacity: 0;\n        transition: opacity .3s ease-out;\n      }\n      :host(.loaded) > iframe {\n        opacity: 1;\n      }\n    "}renderHTML(){this.iframe=document.createElement("iframe"),this.iframe.setAttribute("src","https://plugins.flockler.com/embed/iframe/".concat(this.getAttribute("site-id"),"/").concat(this.getAttribute("embed-id"))),this.iframe.setAttribute("id","flockler-embed-iframe-".concat(this.getAttribute("embed-id"))),this.iframe.setAttribute("allowfullscreen","true"),this.html=this.iframe}}}}]);