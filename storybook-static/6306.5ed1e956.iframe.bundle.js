"use strict";(self.webpackChunkweb_components_toolbox_storybook=self.webpackChunkweb_components_toolbox_storybook||[]).push([[6306],{"./src/web-components-toolbox/src/es/components/atoms/video/Video.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Video});var _prototypes_Shadow_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/web-components-toolbox/src/es/components/prototypes/Shadow.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var importMeta={url:new URL("./src/web-components-toolbox/src/es/components/atoms/video/Video.js",document.baseURI).href};class Video extends((0,_prototypes_Shadow_js__WEBPACK_IMPORTED_MODULE_0__.j)()){constructor(){for(var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];super(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({importMetaUrl:importMeta.url},options),...args),this.sources=this.getAttribute("sources")&&Video.parseAttribute(this.getAttribute("sources"))||null}connectedCallback(){this.shouldRenderCSS()&&this.renderCSS(),this.shouldRenderHTML()&&this.renderHTML()}shouldRenderCSS(){return!this.root.querySelector(":host > style[_css], ".concat(this.tagName," > style[_css]"))}shouldRenderHTML(){return!this.video}renderCSS(){return this.css="\n    :host {\n      width: var(--width, 100%);\n      height: var(--height, auto);\n    }\n    :host video, :host iframe {\n      ".concat(this.getAttribute("height")?"height: ".concat(this.getAttribute("height")):"","\n      ").concat(this.getAttribute("width")?"width: ".concat(this.getAttribute("width")):"","\n      aspect-ratio: ").concat(this.hasAttribute("aspect-ratio")?"1/".concat(this.getAttribute("aspect-ratio")):"var(--aspect-ratio, auto)",";\n      display: var(--display, block);\n      filter: var(--filter, none);\n      margin: var(--margin, 0 auto);\n      max-height: var(--max-height, 75vh);\n      max-width: var(--max-width, 100%);\n      min-height: var(--min-height);\n      min-width: var(--min-width);\n      outline: var(--outline, none);\n      transform: var(--transform, none);\n      transition: var(--transition, none);\n      width: var(--width, 100%);\n      height: var(--height, auto);\n    }\n    :host video:hover, :host iframe:hover {\n      filter: var(--filter-hover, var(--filter, none));\n    }\n    :host video {\n      object-fit: var(--video-object-fit, cover);\n      clip-path: var(--clip-path, none);\n    }\n\n    @media only screen and (max-width: _max-width_) {\n      :host video, :host iframe {\n        filter: var(--filter-mobile, none);\n        transform: var(--transform-mobile, none);\n        transition: var(--transition-mobile, none);\n        width: var(--width-mobile, 100%);\n      }\n    }\n    "),this.fetchTemplate()}fetchTemplate(){return"video-crop-"===this.getAttribute("namespace")?this.fetchCSS([{path:"".concat(this.importMetaUrl,"./crop-/crop-.css"),namespace:!1}]):Promise.resolve()}renderHTML(){this.video=this.root.querySelector("div")||document.createElement("div"),this.video.innerHTML=Array.from(this.attributes).reduce(((acc,attribute)=>attribute.name&&"sources"!==attribute.name&&"namespace"!==attribute.name&&!attribute.name.includes("hidden")?"".concat(acc," ").concat(attribute.name,'="').concat(attribute.value||"true",'"').concat(this.hasAttribute("playsinline")||"autoplay"!==attribute.name||"false"===attribute.value?"":" playsinline"):acc),"<video")+"></video",this.video=this.video.children[0],Array.from(this.root.children).forEach((node=>{"SOURCE"===node.nodeName&&this.video.appendChild(node)})),(this.sources&&this.sources.every((i=>""!==i.src&&""!==i.type&&(this.video.innerHTML+='<source src="'.concat(i.src,'" type="').concat(i.type,'">'))))||this.video.querySelector("source"))&&(this.html=this.video),this.hasAttribute("video-load")?(this.video.addEventListener(this.hasAttribute("poster")?"loadedmetadata":"loadeddata",(event=>{this.setAttribute("loaded","true"),this.dispatchEvent(new CustomEvent(this.getAttribute("video-load")||"video-load",{detail:{origEvent:event,child:this,video:this.video,picture:this.picture},bubbles:!0,cancelable:!0,composed:!0}))})),this.video.addEventListener("error",(event=>{this.setAttribute("loaded","false"),this.dispatchEvent(new CustomEvent(this.getAttribute("video-load")||"video-load",{detail:{error:event},bubbles:!0,cancelable:!0,composed:!0}))})),this.video.setAttribute("loading","eager")):this.video.setAttribute("loading",this.getAttribute("loading")||"lazy")}}}}]);