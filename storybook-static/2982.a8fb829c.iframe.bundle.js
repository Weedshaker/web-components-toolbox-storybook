"use strict";(self.webpackChunkweb_components_toolbox_storybook=self.webpackChunkweb_components_toolbox_storybook||[]).push([[2982],{"./src/web-components-toolbox/src/es/components/atoms/emotionPictures/EmotionPictures.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>EmotionPictures});var _prototypes_Intersection_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/web-components-toolbox/src/es/components/prototypes/Intersection.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var importMeta={url:new URL("./src/web-components-toolbox/src/es/components/atoms/emotionPictures/EmotionPictures.js",document.baseURI).href};class EmotionPictures extends((0,_prototypes_Intersection_js__WEBPACK_IMPORTED_MODULE_0__.l)()){constructor(){for(var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];super(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({importMetaUrl:importMeta.url,intersectionObserverInit:{rootMargin:"0px",threshold:.75}},options),...args),this.setAttribute("role","banner"),Array.from(this.aPictures).forEach((node=>node.setAttribute("loading",this.getAttribute("loading")||"eager"))),Array.from(this.aVideos).forEach((node=>node.setAttribute("loading",this.getAttribute("loading")||"eager")));var timeout=null;this.resizeListener=event=>{clearTimeout(timeout),timeout=setTimeout((()=>{if(this.overlayContent){var overlayContentRect=this.overlayContent.getBoundingClientRect(),thisRect=this.getBoundingClientRect(),top=overlayContentRect.top-thisRect.top;this.style.textContent="\n          :host > * a-picture {\n            --img-max-height: max(calc(".concat(Math.ceil(top+overlayContentRect.height),"px + var(--content-spacing)), var(--").concat(this.namespace,"img-max-height, 75vh));\n          }\n          @media only screen and (max-width: _max-width_) {\n            :host > * a-picture {\n              --img-max-height: max(calc(").concat(Math.ceil(top+overlayContentRect.height),"px + var(--content-spacing-mobile, var(--content-spacing))), var(--").concat(this.namespace,"img-max-height, 75vh));\n            }\n          }\n        ")}}),200)}}intersectionCallback(entries,observer){for(var entry of entries){if(!entry.isIntersecting&&0===entry.intersectionRatio){this.classList.add("visible");break}if(entry.isIntersecting&&entry.intersectionRatio>0){this.classList.add("visible");break}this.classList.remove("visible")}}connectedCallback(){super.connectedCallback();this.hidden=!0;var showPromises=[];this.shouldRenderCSS()&&showPromises.push(this.renderCSS()),this.aPicture&&this.aPicture.hasAttribute("picture-load")&&!this.aPicture.hasAttribute("loaded")&&showPromises.push(new Promise((resolve=>this.addEventListener("picture-load",(event=>{event&&event.detail&&event.detail.error||resolve()}),{once:!0})))),this.aVideo&&this.aVideo.hasAttribute("video-load")&&!this.aVideo.hasAttribute("loaded")&&showPromises.push(new Promise((resolve=>this.addEventListener("video-load",(event=>resolve()),{once:!0})))),Promise.all(showPromises).then((()=>{this.hidden=!1,this.shown&&this.childNodes.length>1&&this.shuffle(),this.css="\n      :host {\n        --show: none;\n        --appear: none;\n      }\n      ",this.resizeListener()})),self.addEventListener("resize",this.resizeListener)}disconnectedCallback(){super.disconnectedCallback(),this.shuffle(!1),self.removeEventListener("resize",this.resizeListener)}shouldRenderCSS(){return!this.root.querySelector(":host > style[_css], ".concat(this.tagName," > style[_css]"))}renderCSS(){return this.css="\n      :host {\n        display: grid !important;\n        width: var(--width, 100%) !important;\n        line-height: var(--line-height, normal);\n      }\n      :host > *:not(style), :host > a {\n        grid-column: 1;\n        grid-row: 1;\n        opacity: 0;\n        transition: var(--transition, opacity 2s ease-out);\n        margin: 0;\n        padding: 0;\n      }\n      :host > *.shown {\n        opacity: 1;\n        z-index: 3;\n      }\n      :host > div, :host > a {\n        position: relative;\n        width: var(--a-width, 100%);\n      }\n      :host > div > *:not(a-picture):not(a-video), :host > a > *:not(a-picture):not(a-video) {\n        position: absolute;\n        z-index: 2;\n        top: var(--text-top, 4vw);\n        left: var(--text-left, 10vw);\n        right: var(--text-right, 10vw);\n        opacity: 0;\n        transition: var(--text-transition, opacity 0.5s ease-out);\n      }\n      :host(.visible) > div > *:not(a-picture):not(a-video), :host(.visible) > a > *:not(a-picture):not(a-video) {\n        opacity: 1;\n      }\n      :host .subline {\n        font-size: var(--subline-font-size, 1.2em);\n        display: var(--subline-display, initial);\n        --bg-padding: var(--bg-padding-custom, 1.2em);\n      }\n      :host .logo {\n        align-items: ".concat(this.logoPosition,";\n        box-sizing: border-box;\n        display: flex;\n        height: 100%;\n        justify-content: flex-end;\n        left: 0;\n        margin: 0;\n        padding: var(--padding);\n        right: 0;\n        top: 0;\n      }\n      @media only screen and (max-width: _max-width_) {\n        :host {\n          width: var(--width-mobile, var(--width, 100%)) !important;\n        }\n        :host > div h2.font-size-big, :host > a h2.font-size-big {\n          font-size: var(--h2-font-size-mobile);\n        }\n        :host > div h1.font-size-big, :host > a h1.font-size-big {\n          font-size: var(--h1-font-size-mobile);\n        }\n        :host > div > *:not(a-picture):not(a-video), :host > a > *:not(a-picture):not(a-video) {\n          ").concat(this.hasAttribute("height-mobile")?"--text-top-mobile: calc((".concat(this.getAttribute("height-mobile"),"/2) - var(--h2-font-size-mobile, 1em));"):"","\n          top: var(--text-top-mobile, 2vw);\n          left: var(--text-left-mobile, 0);\n          right: var(--text-right-mobile, 0);\n          margin:var(--div-margin-mobile);\n        }\n        :host .subline {\n          display:var(--subline-display-mobile, initial);\n        }\n        :host .logo {\n          padding: var(--padding-mobile);\n        }\n      }\n    "),this.setCss("\n      :host > * {\n        ".concat(this.hasAttribute("height")?"--img-height: ".concat(this.getAttribute("height"),";"):"","\n        ").concat(this.hasAttribute("height-mobile")?"--img-height-mobile: ".concat(this.getAttribute("height-mobile"),";"):"","\n        --img-width: var(--").concat(this.getAttribute("namespace")||"","img-width, 100%);\n        --img-max-height:var(--").concat(this.getAttribute("namespace")||"","img-max-height, 75vh);\n        --img-object-fit:var(--").concat(this.getAttribute("namespace")||"","img-object-fit, cover);\n        --picture-teaser-img-object-fit:var(--").concat(this.getAttribute("namespace")||"","img-object-fit, cover);\n      }\n    "),void 0,"",!1),this.html=this.style,this.fetchTemplate()}fetchTemplate(){var styles=[{path:"".concat(this.importMetaUrl,"../../../../css/style.css"),namespaceFallback:!0}];switch(this.getAttribute("namespace")){case"emotion-pictures-with-title-":return this.fetchCSS([{path:"".concat(this.importMetaUrl,"./with-title-/with-title-.css"),namespace:!1},...styles],!1);case"emotion-pictures-with-button-":return this.fetchCSS([{path:"".concat(this.importMetaUrl,"./with-button-/with-button-.css"),namespace:!1},...styles],!1);case"emotion-pictures-with-logo-":return this.fetchCSS([{path:"".concat(this.importMetaUrl,"./with-logo-/with-logo-.css"),namespace:!1},...styles],!1);case"emotion-pictures-with-video-":return this.fetchCSS([{path:"".concat(this.importMetaUrl,"./with-title-/with-title-.css"),namespace:!1,replaces:[{pattern:"--emotion-pictures-with-title-",flags:"g",replacement:"--emotion-pictures-with-video-"}]},{path:"".concat(this.importMetaUrl,"./with-video-/with-video-.css"),namespace:!1},...styles],!1);case"emotion-pictures-default-":return this.fetchCSS([{path:"".concat(this.importMetaUrl,"./default-/default-.css"),namespace:!1}],!1);default:return this.fetchCSS(styles,!1)}}shuffle(){var start=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];clearInterval(this.interval||null),start&&(this.interval=setInterval((()=>{var shown;(shown=this.shown)&&(this.childNodes.forEach((node=>node.classList.remove("shown"))),shown.nextElementSibling&&"STYLE"!==shown.nextElementSibling.tagName?shown.nextElementSibling.classList.add("shown"):this.childNodes[0]&&this.childNodes[0].classList.add("shown"),EmotionPictures.updateLogoPosition(this.shown,".logo","logo-position"))}),Number(this.getAttribute("interval"))||8e3))}static updateLogoPosition(divNode,selector,attribute){var logoElement=divNode.querySelector(selector);logoElement&&(logoElement.style.alignItems=logoElement.getAttribute(attribute))}get shown(){return this.root.querySelector(".shown")||(()=>(this.childNodes[0]&&this.childNodes[0].classList.add("shown"),this.childNodes[0]))()}get childNodes(){return Array.from(this.root.childNodes).filter((childNode=>"STYLE"!==childNode.tagName))}get aPicture(){return this.root.querySelector("a-picture")}get aPictures(){return this.root.querySelectorAll("a-picture")}get aVideo(){return this.root.querySelector("a-video")}get aVideos(){return this.root.querySelectorAll("a-video")}get logoPosition(){var _this$root$querySelec;return null!==(_this$root$querySelec=this.root.querySelector(".logo"))&&void 0!==_this$root$querySelec&&_this$root$querySelec.hasAttribute("logo-position")?this.root.querySelector(".logo").getAttribute("logo-position"):"center"}get overlayContent(){return this.root.querySelector(":host > div > *:not(a-picture):not(a-video), :host > a > *:not(a-picture):not(a-video) ")}get style(){return this._style||(this._style=((style=document.createElement("style")).setAttribute("protected","true"),style));var style}}},"./src/web-components-toolbox/src/es/components/prototypes/Intersection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>Intersection});var _Shadow_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/web-components-toolbox/src/es/components/prototypes/Shadow.js"),Intersection=function Intersection(){var ChosenClass=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,_Shadow_js__WEBPACK_IMPORTED_MODULE_0__.j)();return class Intersection extends ChosenClass{constructor(){for(var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{intersectionObserverInit:void 0},_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];super(options,...args),this.isObserving=!1;var intersectionObserverInit=this.getAttribute("intersectionObserverInit")?Intersection.parseAttribute(this.getAttribute("intersectionObserverInit")):options.intersectionObserverInit;try{if(intersectionObserverInit){intersectionObserverInit=Object.assign({root:void 0,rootMargin:"200px 0px 200px 0px",threshold:0},intersectionObserverInit);var intersectionObserver=new IntersectionObserver(this.intersectionCallback.bind(this),intersectionObserverInit);this.intersectionObserveStart=()=>{this.isObserving||(intersectionObserver.observe(this),this.isObserving=!0)},this.intersectionObserveStop=()=>{this.isObserving&&(intersectionObserver.disconnect(),this.isObserving=!1)}}else this.intersectionObserveStart=()=>{},this.intersectionObserveStop=()=>{},console.warn("IntersectionObserver got not started, due to missing options.intersectionObserverInit. At least supply an empty object to activate the observer with the default settings!")}catch(error){this.intersectionObserveStart=()=>{},this.intersectionObserveStop=()=>{},console.warn("IntersectionObserver got not started, due to missing support!")}}connectedCallback(){super.connectedCallback(),this.intersectionObserveStart()}disconnectedCallback(){super.disconnectedCallback(),this.intersectionObserveStop()}intersectionCallback(entries,observer){}}}}}]);