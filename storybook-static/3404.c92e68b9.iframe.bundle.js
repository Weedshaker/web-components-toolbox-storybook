"use strict";(self.webpackChunkweb_components_toolbox_storybook=self.webpackChunkweb_components_toolbox_storybook||[]).push([[3404],{"./src/web-components-toolbox/src/es/components/organisms/header/Header.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Header});var _prototypes_Shadow_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/web-components-toolbox/src/es/components/prototypes/Shadow.js"),importMeta={url:new URL("./src/web-components-toolbox/src/es/components/organisms/header/Header.js",document.baseURI).href};class Header extends((0,_prototypes_Shadow_js__WEBPACK_IMPORTED_MODULE_0__.j)()){constructor(){super(...arguments),this.setAttribute("role","banner"),this.setAttribute("aria-label","Header"),this.scrollListener=event=>{var lastScroll=self.scrollY;setTimeout((()=>{this.setStickyOffsetHeight(),self.scrollY<=this.offsetHeight+5?this.classList.add("top"):(this.classList.remove("top"),Math.abs(self.scrollY-lastScroll)>30&&self.scrollY<=lastScroll?this.classList.add("show"):Math.abs(self.scrollY-lastScroll)>30&&this.classList.remove("show")),self.addEventListener("scroll",this.scrollListener,{once:!0})}),200)},this.clickAnimationListener=event=>{this.header.classList.contains("open")?(this.mNavigation.classList.add("open"),"desktop"!==this.getMedia()&&this.mNavigation.setAttribute("aria-expanded","true")):event&&"close"===event.animationName&&(this.mNavigation.classList.remove("open"),"desktop"!==this.getMedia()&&this.mNavigation.setAttribute("aria-expanded","false"))},this.keyupListener=event=>{"Escape"===event.key&&(document.body.click(),this.MenuIcon.classList.contains("open")&&this.MenuIcon.click())},this.clickAnchorListener=event=>{"desktop"!==this.getMedia()&&this.MenuIcon.classList.contains("open")&&this.MenuIcon.click()};var timeout=null;this.resizeListener=event=>{clearTimeout(timeout),timeout=setTimeout((()=>{this.adjustLogoPos(!0),this.setStickyOffsetHeight()}),200)},this.mutationCallbackTimeout=null,this.mutationCallback=mutationsList=>{clearTimeout(this.mutationCallbackTimeout),this.mutationCallbackTimeout=setTimeout((()=>{this.header.classList.contains("open")&&!this.classList.contains("show")&&this.classList.add("show")}),50)},this.observer=new MutationObserver(this.mutationCallback)}connectedCallback(){this.hidden=!0;var showPromises=[];this.shouldComponentRenderCSS()&&showPromises.push(this.renderCSS()),this.shouldComponentRenderHTML()&&showPromises.push(this.renderHTML()),showPromises.push(new Promise((resolve=>this.addEventListener("navigation-load",(event=>resolve()),{once:!0})))),this.aLogo&&!this.aLogo.hasAttribute("loaded")&&showPromises.push(new Promise((resolve=>this.addEventListener("logo-load",(event=>resolve()),{once:!0})))),Promise.all(showPromises).then((()=>{this.hidden=!1,this.setStickyOffsetHeight(),this.adjustLogoPos(!0),setTimeout((()=>this.adjustLogoPos(!0)),1e3)})),this.hasAttribute("sticky")&&self.addEventListener("scroll",this.scrollListener,{once:!0}),this.addEventListener("click",this.clickAnimationListener),this.addEventListener(this.getAttribute("click-anchor")||"click-anchor",this.clickAnchorListener),self.addEventListener("resize",this.resizeListener),this.mNavigation&&this.mNavigation.addEventListener("animationend",this.clickAnimationListener),self.addEventListener("resize",this.mutationCallback),document.addEventListener("keyup",this.keyupListener),this.observer.observe(this.header,{attributes:!0})}disconnectedCallback(){this.hasAttribute("sticky")&&self.removeEventListener("scroll",this.scrollListener),this.removeEventListener("click",this.clickAnimationListener),this.removeEventListener(this.getAttribute("click-anchor")||"click-anchor",this.clickAnchorListener),self.removeEventListener("resize",this.resizeListener),this.mNavigation&&this.mNavigation.removeEventListener("animationend",this.clickAnimationListener),self.removeEventListener("resize",this.mutationCallback),document.removeEventListener("keyup",this.keyupListener),this.observer.disconnect()}shouldComponentRenderCSS(){return!this.root.querySelector(":host > style[_css], ".concat(this.tagName," > style[_css]"))}shouldComponentRenderHTML(){return!this.header}renderCSS(){return this.css="\n      :host {\n        grid-area: header;\n        position: var(--position, sticky);\n        top: 0;\n        z-index: var(--z-index, 1000);\n        text-align: var(--text-align, initial);\n        background-color: var(--host-background-color, transparent);\n      }\n      :host > * {\n        font-size: var(--font-size, 1rem);\n        margin: var(--content-spacing, 40px) auto;  /* Warning! Keep horizontal margin at auto, otherwise the content width + margin may overflow into the scroll bar */\n        width: var(--content-width, 55%);\n      }\n      :host([sticky]) {\n        position: static;\n      }\n      :host > header > ".concat(this.getAttribute("m-navigation")||"m-navigation"," {\n        flex-grow: 1;\n        max-width: calc(var(--content-width, 55%) - var(--logo-width));\n      }\n      :host > header::before {\n        display: block;\n        width: var(--logo-width);\n        height: auto;\n        clear: both;\n        content: '';\n        order: 1;\n      }\n      :host > header > *:first-child {\n        align-self: baseline;\n      }\n      :host > span, :host > div, :host > p, :host > ul, :host > ol {\n        width: var(--content-width, 55%);\n      }\n      :host > header {\n        align-items: var(--align-items, center);\n        background-color: var(--background-color, black);\n        border: var(--border, 0);\n        border-bottom: var(--border-bottom, 0);\n        display: flex;\n        flex-direction: var(--flex-direction , row);\n        flex-wrap: var(--flex-wrap, nowrap);\n        height: var(--height , 85px);\n        justify-content: var(--justify-content , space-between);\n        padding: var(--padding, 0);\n        margin: var(--margin, 0);\n        ").concat(this.previousElementSibling&&"MSRC-LOGIN"===this.previousElementSibling.tagName?"margin-top: 0;":"","\n        width: var(--width, 100%);\n        position: var(--header-position, relative);\n        transition: var(--transition, all 0.2s ease);\n      }\n      :host > header.open {\n        background-color: var(--background-color-open, var(--background-color, black));\n      }\n      :host > header.animate {\n        background: linear-gradient(to bottom, var(--background-color-open) 0%, var(--background-color-open) 50%, var(--background-color) 50%, var(--background-color) 100%);\n        animation: backgroundAnimation var(--background-animation, 0.5s ease);\n        background-size: 100% 200%;\n        background-position-y: 0%;\n      }\n      :host > header > a {\n        align-self: var(--a-align-self, var(--align-self, auto));\n        color: var(--a-color, var(--color));\n        font-family: var(--a-font-family, var(--font-family));\n        font-weight: var(--a-font-weight, var(--font-weight, normal));\n        font-size: var(--a-font-size, var(--font-size));\n        padding: var(--a-padding, 0);\n        margin: var(--a-margin, 0);\n        line-height: var(--a-line-height, 0);\n        order: var(--order, 1);\n        text-decoration: var(--a-text-decoration, var(--text-decoration, none));\n        text-underline-offset: var(--a-text-underline-offset, unset);\n        text-transform: var(--a-text-transform, none);\n        transition: var(--a-transition, all 0.2s ease);\n        white-space: var(--a-white-space, normal);\n      }\n      :host > header > a:hover {\n        color: var(--a-color-hover, var(--a-color-hover, var(--a-color, var(--color))));\n        text-decoration: var(--a-text-decoration-hover, var(--text-decoration-hover, var(--a-text-decoration, var(--text-decoration, none))));\n      }\n      :host > header.open > a {\n        font-size: var(--a-font-size-open, var(--font-size-open, var(--a-font-size, var(--font-size))));\n      }\n      :host > header > a-menu-icon {\n        align-self: var(--a-menu-icon-align-self, var(--align-self, auto));\n        display: none;\n      }\n      :host([sticky].top) {\n        position: var(--position, sticky);\n      }\n      :host([sticky].show:not(.top)) {\n        top: 0;\n        transition: var(--sticky-transition-show, top .5s ease);\n      }\n      :host([sticky].show:not(.top)) > header {\n        border-bottom: var(--sticky-border-bottom, 1px solid var(--color));\n      }\n      :host([sticky]:not(.top)) {\n        transition: var(--sticky-transition-hide, top .4s ease);\n      }\n      :host > header > ").concat(this.getAttribute("m-navigation")||"m-navigation"," {\n        order: 2;\n      }\n      :host > header > a-logo{\n        position: absolute;\n        left: calc((100% - var(--content-width, 55%)) / 2);\n        z-index: 1001;\n        top: var(--a-logo-top, 0);\n        transition: top 0.2s ease-out;\n      }\n      @keyframes backgroundAnimation {\n        0%{background-position-y:100%}\n        100%{background-position-y:0%}\n      }\n      @keyframes open {\n        0% {left: -100vw}\n        100% {left: 0}\n      }\n      @keyframes close {\n        0% {left: 0}\n        100% {left: -100vw}\n      }\n      @media only screen and (max-width: _max-width_) {\n        :host > * {\n          --logo-default-justify-content: flex-end;\n          font-size: var(--font-size-mobile, var(--font-size, 1rem));\n          margin: var(--content-spacing-mobile, 0) auto; /* Warning! Keep horizontal margin at auto, otherwise the content width + margin may overflow into the scroll bar */\n          width: var(--content-width-mobile, 90%);\n        }\n        :host([sticky]) {\n          position: sticky;\n          top: -7em;\n        }\n        :host([sticky].show:not(.top)) > header, :host([sticky]:not(.top)) > header {\n          transform: translateY(calc(-1 * var(--content-spacing-mobile)));\n        }\n        :host > header {\n          flex-wrap: nowrap;\n          margin: var(--margin-mobile, var(--margin, 0));\n          ").concat(this.previousElementSibling&&"MSRC-LOGIN"===this.previousElementSibling.tagName?"margin-top: 0;":"","\n          width: var(--width-mobile, var(--width, 100%));\n        }\n        :host > header > ").concat(this.getAttribute("m-navigation")||"m-navigation"," {\n          animation: close .4s ease-in;\n          left: -100vw;\n        }\n        :host > header > ").concat(this.getAttribute("m-navigation")||"m-navigation",".open {\n          display: block;\n        }\n        :host > header.open > ").concat(this.getAttribute("m-navigation")||"m-navigation"," {\n          animation: open .3s ease-out;\n          left: 0;\n        }\n        :host > header > *:first-child {\n          align-self: center;\n        }\n        :host > span, :host > div, :host > p, :host > ul, :host > ol {\n          width: var(--content-width, 90%);\n        }\n        :host > header {\n          box-sizing: var(--box-sizing-open-mobile, var(--box-sizing-open, var(--box-sizing, content-box)));\n          height: var(--height-mobile, 50px);\n          flex-direction: var(--flex-direction-mobile, row-reverse);\n          justify-content: var(--justify-content-mobile, space-between);\n          padding: var(--padding-mobile, var(--padding, 0 calc(var(--content-spacing, 40px) / 2)));\n        }\n        :host > header.open {\n          position: var(--position-open-mobile, var(--position-open, var(--position, static)));\n          top: var(--top-open-mobile, var(--top-open, var(--top, auto)));\n          left: var(--left-open-mobile, var(--left-open, var(--position, auto)));\n          width: var(--width-open-mobile, var(--width-open, var(--width, auto)));\n        }\n        :host > header > ").concat(this.getAttribute("m-navigation")||"m-navigation"," {\n          display: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-display-mobile, none);\n          left: 0;\n          background-color: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-background-color-mobile, transparent);\n          height: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-height-mobile, 0);\n          overflow: hidden;\n          position: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-position-mobile, absolute);\n          align-items: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-align-items-mobile, normal);\n          justify-content: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-justify-content-mobile, normal);\n          transition: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-transition, all 0.2s ease);\n          top: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-top-mobile, var(--height-mobile, 50px));\n          padding: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-padding-mobile, 0);\n          width: 100%;\n          min-width: 100%;\n        }\n        :host > header > a {\n          align-self: var(--a-align-self-mobile, var(--a-align-self, var(--align-self, auto)));\n          font-size: var(--a-font-size-mobile, var(--a-font-size, var(--font-size)));\n          padding: var(--a-padding-mobile, var(--a-padding, 0));\n          margin: var(--a-margin-mobile, var(--a-margin, 0));\n          order: var(--order-mobile, var(--order, 1));\n        }\n        :host > header > a-title {\n          z-index: var(--a-title-z-index, auto);\n        }\n        :host > header.open > ").concat(this.getAttribute("m-navigation")||"m-navigation"," {\n          display: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-display-open-mobile, var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-display-mobile, block));\n          height: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-height-open-mobile, 100vh);\n          overflow-y: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-overflow-y-open-mobile, auto);\n          padding: var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-padding-open-mobile, var(--").concat(this.getAttribute("m-navigation")||"m-navigation","-padding-mobile, 0));\n        }\n        :host  > header > a-menu-icon{\n          align-self: var(--a-menu-icon-align-self-mobile, var(--a-menu-icon-align-self, var(--align-self, auto)));\n          display: var(--a-menu-icon-display-mobile, block);\n          z-index: 1002;\n        }\n        :host  > header.open > a-menu-icon{\n          --a-menu-icon-height: var(--a-menu-icon-height-open-mobile);\n          --a-menu-icon-margin: var(--a-menu-icon-margin-open-mobile);\n          display: var(--a-menu-icon-display-open-mobile, var(--a-menu-icon-display-mobile, block));\n        }\n        :host > header > a-menu-icon {\n          order: 3;\n        }\n        :host > header > a-logo{\n          flex-grow: 1;\n          left: auto;\n          right: var(--content-spacing-mobile, var(--content-spacing));\n          top: var(--a-logo-top-mobile, -1em);\n        }\n        :host > header::before {\n          order: 1;\n        }\n      }\n    "),"header-default-"===this.getAttribute("namespace")?this.fetchCSS([{path:"".concat(importMeta.url.replace(/(.*\/)(.*)$/,"$1"),"./default-/default-.css"),namespace:!1}],!1):Promise.resolve()}renderHTML(){return this.header=this.root.querySelector(this.cssSelector+" > header")||document.createElement("header"),Array.from(this.root.children).forEach((node=>{if(node===this.header||node.getAttribute("slot")||"STYLE"===node.nodeName)return!1;this.header.appendChild(node)})),this.html=this.header,this.hasAttribute("sticky")&&this.classList.add("top"),self.addEventListener("resize",(event=>this.dispatchEvent(new CustomEvent(this.getAttribute("no-scroll")||"no-scroll",{detail:{hasNoScroll:!1,origEvent:event,this:this},bubbles:!0,cancelable:!0,composed:!0})))),this.getAttribute("menu-icon")?this.loadChildComponents().then((children=>{this.MenuIcon=new children[0][1]({namespace:this.getAttribute("namespace")?"".concat(this.getAttribute("namespace"),"a-menu-icon-"):"",namespaceFallback:this.hasAttribute("namespace-fallback"),mobileBreakpoint:this.mobileBreakpoint}),this.MenuIcon.addEventListener("click",(event=>{this.header.classList.toggle("open");var prop=this.header.classList.contains("open")?"add":"remove";"desktop"!==this.getMedia()&&this.mNavigation.setAttribute("aria-expanded",this.header.classList.contains("open")?"true":"false"),this.dispatchEvent(new CustomEvent(this.getAttribute("no-scroll")||"no-scroll",{detail:{hasNoScroll:this.header.classList.contains("open"),origEvent:event,this:this},bubbles:!0,cancelable:!0,composed:!0})),Array.from(this.header.children).forEach((node=>{node.classList[prop](this.getAttribute("no-scroll")||"no-scroll")}))})),this.header.appendChild(this.MenuIcon),this.html=this.style,this.html=this.styleTwo,this.adjustLogoPos(!0)})):Promise.resolve()}loadChildComponents(){if(this.childComponentsPromise)return this.childComponentsPromise;var menuIconPromise;try{menuIconPromise=Promise.resolve({default:MenuIcon})}catch(error){menuIconPromise=__webpack_require__.e(9493).then(__webpack_require__.bind(__webpack_require__,"./src/web-components-toolbox/src/es/components/atoms/menuIcon/MenuIcon.js"))}return this.childComponentsPromise=Promise.all([menuIconPromise.then((module=>["a-menu-icon",module.default]))]).then((elements=>(elements.forEach((element=>{customElements.get(element[0])||customElements.define(...element)})),elements)))}get mNavigation(){return this.root.querySelector(this.getAttribute("m-navigation")||"m-navigation")}get aLogo(){return this.root.querySelector(this.getAttribute("a-logo")||"a-logo")}setStickyOffsetHeight(){this.style.textContent="",self.requestAnimationFrame((timeStamp=>{this.setCss("\n        :host([sticky].top), :host([sticky]:not(.top)) {\n          top: -".concat(this.offsetHeight+5,"px;\n          transition: var(--sticky-transition-hide, top .4s ease);\n        }\n        @media only screen and (max-width: _max-width_) {\n          :host {\n            min-height: ").concat(this.offsetHeight,"px;\n          }\n        }\n      "),void 0,void 0,void 0,this.style)}))}adjustLogoPos(resetCouter){this.styleTwo.textContent="","desktop"===this.getMedia()&&(this._adjustLogoPosCounter=resetCouter?1:this._adjustLogoPosCounter?this._adjustLogoPosCounter+1:1,self.requestAnimationFrame((timeStamp=>{var navHeight=this.mNavigation?this.mNavigation.offsetHeight:200,logoHeight=this.aLogo.offsetHeight;if(this._adjustLogoPosCounter<30&&(!navHeight||!logoHeight))return setTimeout((()=>this.adjustLogoPos(!1)),1e3);this.setCss("\n        :host > header > a-logo {\n          top: calc(".concat(navHeight,"px / 2 - ").concat(logoHeight,"px / 2);\n        }\n      "),void 0,void 0,void 0,this.styleTwo)})))}getMedia(){return self.matchMedia("(min-width: calc(".concat(this.mobileBreakpoint," + 1px))")).matches?"desktop":"mobile"}get style(){return this._style||(this._style=((style=document.createElement("style")).setAttribute("protected","true"),style.setAttribute("_csssetStickyOffsetHeight",""),style));var style}get styleTwo(){return this._styleTwo||(this._styleTwo=((styleTwo=document.createElement("style")).setAttribute("protected","true"),styleTwo.setAttribute("_cssadjustLogoPos",""),styleTwo));var styleTwo}}}}]);