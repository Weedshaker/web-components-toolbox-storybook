"use strict";(self.webpackChunkweb_components_toolbox_storybook=self.webpackChunkweb_components_toolbox_storybook||[]).push([[1242],{"./src/web-components-toolbox/src/es/components/organisms/intersectionScrollEffect/IntersectionScrollEffect.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>IntersectionScrollEffect});var _prototypes_Intersection_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/web-components-toolbox/src/es/components/prototypes/Intersection.js");class IntersectionScrollEffect extends((0,_prototypes_Intersection_js__WEBPACK_IMPORTED_MODULE_0__.l)()){constructor(){for(var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];super(Object.assign(options,{mode:"open",intersectionObserverInit:{rootMargin:"0px 0px 0px 0px"}}),...args),this.elementHeight=0,this.center=0,this.maxDistanceFromCenter=0,this.hasRequiredAttributes=this.getAttribute("css-property")&&this.getAttribute("effect")&&this.getAttribute("max-value"),this.cachedMedia=null,this.digits=this.getAttribute("digits")?Number(this.getAttribute("digits")):4,this.requestAnimationFrameId=null,this.css="\n      :host {\n        display: block; /* fix: google chrome wrong measurements */\n        overflow: var(--overflow, hidden);\n      }\n      ".concat(this.getAttribute("transition")&&this.getAttribute("css-property")&&!this.getAttribute("css-property").includes("--")?":host > *:not(style):not(script) {\n          transition: ".concat(this.getAttribute("css-property")," ").concat(this.getAttribute("transition"),";\n        }"):"","\n    "),this.html=this._css=this._css.cloneNode(),this.scrollListener=event=>{this.requestAnimationFrameId=self.requestAnimationFrame((timeStamp=>{var offset=self[this.direction(0)]/100*Number(this.checkMedia("mobile")&&this.getAttribute("offset-mobile")||this.getAttribute("offset")),boundingRect=this.getBoundingClientRect(),recalculate=this.elementHeight!==boundingRect[this.direction(1)];this.elementHeight&&!recalculate||(this.elementHeight=this.round(boundingRect[this.direction(1)],2)),this.center&&!recalculate||(this.center=this.round(self[this.direction(0)]/2-this.elementHeight/2,2)),this.maxDistanceFromCenter&&!recalculate||(this.maxDistanceFromCenter=self[this.direction(0)]-offset-this.center);var difference=this.round(this.center>boundingRect[this.direction(2)]?this.center-boundingRect[this.direction(2)]:boundingRect[this.direction(2)]-this.center,2),outputValue=this.round(difference/this.maxDistanceFromCenter,this.digits);outputValue=this.clamp(outputValue,0,1),outputValue="true"===this.getAttribute("invert")?1-outputValue:outputValue,isNaN(outputValue)||(this.css="",this.css="\n              :host > *:not(style):not(script) {\n                ".concat(this.getAttribute("css-property"),": ").concat(this.getAttribute("effect"),"(calc(").concat(outputValue," * ").concat(this.checkMedia("mobile")&&this.getAttribute("max-value-mobile")||this.getAttribute("max-value"),"));\n              }\n            ")),this.requestAnimationFrameId=null}))},this.resizeListener=event=>{this.cachedMedia=null,this.hasRequiredAttributes&&(this.checkMedia()?this.intersectionObserveStart():(this.intersectionObserveStop(),this[this.direction(3)].removeEventListener("scroll",this.scrollListener),this.css=""))}}checkMedia(){var media=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("media");if(!media)return!0;if(this.cachedMedia)return this.cachedMedia===media;var isDesktop=self.matchMedia("(min-width: ".concat(this.mobileBreakpoint,")")).matches;return this.cachedMedia=isDesktop?"desktop":"mobile",this.cachedMedia===media}connectedCallback(){this.hasRequiredAttributes&&(this.checkMedia()&&(super.connectedCallback(),this.scrollListener(),self.addEventListener("load",(event=>this.scrollListener()),{once:!0}),this.addEventListener(this.getAttribute("picture-load")||"picture-load",(event=>this.scrollListener()),{once:!0})),self.addEventListener("resize",this.resizeListener))}disconnectedCallback(){this.hasRequiredAttributes&&(this.checkMedia()&&(super.disconnectedCallback(),this[this.direction(3)].removeEventListener("scroll",this.scrollListener),this.css=""),self.removeEventListener("resize",this.resizeListener))}round(value,decimalsAmount){return value.toFixed(decimalsAmount<1?1:decimalsAmount)}clamp(value,min,max){return Math.min(Math.max(value,min),max)}intersectionCallback(entries,observer){entries&&entries[0]&&(this.scrollListener(),entries[0].isIntersecting?this[this.direction(3)].addEventListener("scroll",this.scrollListener):this[this.direction(3)].removeEventListener("scroll",this.scrollListener))}direction(i){return this.hasAttribute("horizontal")?["innerWidth","width","left","parentElement"][i]:["innerHeight","height","top","self"][i]}get self(){return self}}},"./src/web-components-toolbox/src/es/components/prototypes/Intersection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>Intersection});var _Shadow_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/web-components-toolbox/src/es/components/prototypes/Shadow.js"),Intersection=function Intersection(){var ChosenClass=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,_Shadow_js__WEBPACK_IMPORTED_MODULE_0__.j)();return class Intersection extends ChosenClass{constructor(){for(var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{intersectionObserverInit:void 0},_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];super(options,...args),this.isObserving=!1;var intersectionObserverInit=this.getAttribute("intersectionObserverInit")?Intersection.parseAttribute(this.getAttribute("intersectionObserverInit")):options.intersectionObserverInit;try{if(intersectionObserverInit){intersectionObserverInit=Object.assign({root:void 0,rootMargin:"200px 0px 200px 0px",threshold:0},intersectionObserverInit);var intersectionObserver=new IntersectionObserver(this.intersectionCallback.bind(this),intersectionObserverInit);this.intersectionObserveStart=()=>{this.isObserving||(intersectionObserver.observe(this),this.isObserving=!0)},this.intersectionObserveStop=()=>{this.isObserving&&(intersectionObserver.disconnect(),this.isObserving=!1)}}else this.intersectionObserveStart=()=>{},this.intersectionObserveStop=()=>{},console.warn("IntersectionObserver got not started, due to missing options.intersectionObserverInit. At least supply an empty object to activate the observer with the default settings!")}catch(error){this.intersectionObserveStart=()=>{},this.intersectionObserveStop=()=>{},console.warn("IntersectionObserver got not started, due to missing support!")}}connectedCallback(){super.connectedCallback(),this.intersectionObserveStart()}disconnectedCallback(){super.disconnectedCallback(),this.intersectionObserveStop()}intersectionCallback(entries,observer){}}}}}]);